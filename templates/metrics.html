<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Original Metrics - MAF</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/static/assets/css/main.css" />
		<noscript><link rel="stylesheet" href="/static/assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a href="/" class="title">MAF</a>
				<nav>
					<ul>
						<li><a href="/">Home</a></li>
						<li><a href="/data">Data</a></li>
						<li><a href="#" class="active">Metrics</a></li>
						<li><a href="#">Algorithms</a></li>
						<li><a href="#">Compare</a></li>
					</ul>
				</nav>
			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main" class="wrapper">
						<div class="inner">
							<div class="row">
								<div class="col-6 col-12-medium">
									<ul class="actions">
										<li><a href="/algorithm/{{ data_name }}" class="button primary fit">Algorithm selection</a></li>
										<li><a href="/" class="button fit">Home</a></li>
									</ul>
								</div>
							</div>
							<h1 class="major">Original Metrics</h1>
							<!-- Text -->
								<section>
									<ul class="alt">
										<li><b>Dataset</b>: {{ data_name }}</li>
										<li><b>Protected attribute</b>: {{ data.protected }}</li>
									</ul>
								</section>
							
							<!-- Table -->
								<h2>Tables of metrics</h2>
								<section>
									<h3>A. Data metrics</h3>
									<div class="table-wrapper">
										<table>
											<thead>
												<tr>
													<th>Attribute</th>
													<th>Value</th>
													<th>Fairness value</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>Number of nagatives (privileged)</td>
													<td>{{ data.privileged.num_negatives }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Number of positives (privileged)</td>
													<td>{{ data.privileged.num_positives }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Number of negatives (unprivileged)</td>
													<td>{{ data.unprivileged.num_negatives }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Number of positives (unprivileged)</td>
													<td>{{ data.unprivileged.num_positives }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Base rate</td>
													<td>{{ data.base_rate }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Statistical parity difference</td>
													<td>{{ data.statistical_parity_difference }}</td>
													<td>0.0</td>
												</tr>
												<tr>
													<td>Consistency</td>
													<td>{{ data.consistency }}</td>
													<td></td>
												</tr>
											</tbody>
										</table>
									</div>
								</section>
								<section>
									<h3>B. Performance</h3>
									<div class="table-wrapper">
										<table>
											<thead>
												<tr>
													<th>Attribute</th>
													<th>Value</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>Recall</td>
													<td>{{ performance.recall }}</td>
												</tr>
												<tr>
													<td>True negative rate</td>
													<td>{{ performance.true_negative_rate }}</td>
												</tr>
												<tr>
													<td>False positive rate</td>
													<td>{{ performance.false_positive_rate }}</td>
												</tr>
												<tr>
													<td>False negative rate</td>
													<td>{{ performance.false_negative_rate }}</td>
												</tr>
												<tr>
													<td>Precision</td>
													<td>{{ performance.precision }}</td>
												</tr>
												<tr>
													<td>Negative predictive value</td>
													<td>{{ performance.negative_predictive_value }}</td>
												</tr>
												<tr>
													<td>False discovery rate</td>
													<td>{{ performance.false_discovery_rate }}</td>
												</tr>
												<tr>
													<td>False omission rate</td>
													<td>{{ performance.false_omission_rate }}</td>
												</tr>
												<tr>
													<td>Accuracy</td>
													<td>{{ performance.accuracy }}</td>
												</tr>
											</tbody>
										</table>
									</div>
								</section>
								<section>
									<h3>C. Classification metrics</h3>
									<div class="table-wrapper">
										<table>
											<thead>
												<tr>
													<th>Attribute</th>
													<th>Value</th>
													<th>Fairness value</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>Error rate</td>
													<td>{{ classify.error_rate }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Average odds difference</td>
													<td>{{ classify.average_odds_difference }}</td>
													<td>0.0</td>
												</tr>
												<tr>
													<td>Average abs odds difference</td>
													<td>{{ classify.average_abs_odds_difference }}</td>
													<td>0.0</td>
												</tr>
												<tr>
													<td>Selection rate</td>
													<td>{{ classify.selection_rate }}</td>
													<td></td>
												</tr>
												<tr>
													<td>Disparate impact</td>
													<td>{{ classify.disparate_impact }}</td>
													<td>1.0</td>
												</tr>
												<tr>
													<td>Statistical parity difference</td>
													<td>{{ classify.statistical_parity_difference }}</td>
													<td>0.0</td>
												</tr>
												<tr>
													<td>Generalized entropy index</td>
													<td>{{ classify.generalized_entropy_index }}</td>
													<td>1.0</td>
												</tr>
												<tr>
													<td>Theil index</td>
													<td>{{ classify.theil_index }}</td>
													<td>1.0</td>
												</tr>
												<tr>
													<td>Equal opportunity difference</td>
													<td>{{ classify.equal_opportunity_difference }}</td>
													<td>0.0</td>
												</tr>
											</tbody>
										</table>
									</div>
								</section>
								<br>

							<!-- Chart -->
								<h2>Charts of matrics</h2>
								<section>
									<h3>A. Data metrics</h3>
									<figure class="highcharts-figure">
										<div>
											<div id="tsne" class="scatter"></div>
										</div>
									</figure>
									<figure class="highcharts-figure">
										<div>
											<div id="data_n_bar" class="bar"></div>
											<div id="data_n_bar3d" class="bar3d"></div>
											<div id="data_chart_bar" class="bar"></div>
										</div>
									</figure>
								</section>
								<br><br>
								<section>
									<h3>B. Performance measures</h3>
									<figure class="highcharts-figure">
										<div>
											<div id="performance_chart_bar" class="bar"></div>
										</div>
									</figure>
								</section>
								<br><br>
								<section>
									<h3>C. Classification metrics</h3>
									<figure class="highcharts-figure">
										<div>
											<div id="cls_chart_bar" class="bar"></div>
										</div>
									</figure>
								</section>
								<br><br>
								<div class="row">
									<div class="col-6 col-12-medium">
										<ul class="actions">
											<li><a href="/algorithm/{{ data_name }}" class="button primary fit">Algorithm selection</a></li>
											<li><a href="/" class="button fit">Home</a></li>
										</ul>
									</div>
								</div>
						</div>
			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="/static/assets/js/jquery.min.js"></script>
			<script src="/static/assets/js/jquery.scrollex.min.js"></script>
			<script src="/static/assets/js/jquery.scrolly.min.js"></script>
			<script src="/static/assets/js/browser.min.js"></script>
			<script src="/static/assets/js/breakpoints.min.js"></script>
			<script src="/static/assets/js/util.js"></script>
			<script src="/static/assets/js/main.js"></script>

		<!-- Bias chart script -->
		<script type="text/javascript" src="https://code.highcharts.com/highcharts.js"></script>
		<script type="text/javascript" src="https://code.highcharts.com/highcharts-3d.js"></script>
		<script type="text/javascript" src="https://code.highcharts.com/highcharts-more.js"></script>
		<script type="text/javascript" src="/static/src/bias_chart.js"></script>

		<!-- Resource Script -->
		<script type="text/javascript">
			const tsne_priv = {{ data.privileged.TSNE }};
			const tsne_unpriv = {{ data.unprivileged.TSNE }};

			const tsneChart = new ScatterChart('tsne', '{{ data_name }}');
			tsneChart.push(tsne_priv, {color: "rgb(129, 199, 233)", name: "Privileged"});
			tsneChart.push(tsne_unpriv, {color: "rgb(255, 187, 0)", name: "Unprivileged"});
			tsneChart.show();

			const n_privileged = [{{ data.privileged.num_negatives }}, {{ data.privileged.num_positives }}];
			const n_unprivileged = [{{ data.unprivileged.num_negatives }}, {{ data.unprivileged.num_positives }}];

			const dataN_xAxis = ["Number of negatives", "Number of positives"];

			const dataNBar = new BarChart("data_n_bar");
			dataNBar.setAxis(dataN_xAxis);
			dataNBar.push(n_privileged, {name: "Privileged", color: "#FF0000bb"});
			dataNBar.push(n_unprivileged, {name: "Unprivileged"});
			dataNBar.show();

			const dataNBar3d = new BarChart3D("data_n_bar3d");
			dataNBar3d.setAxis(dataN_xAxis);
			dataNBar3d.push(n_privileged, {name: "Privileged", color: "#FF0000bb"});
			dataNBar3d.push(n_unprivileged, {name: "Unprivileged"});
			dataNBar3d.show();

			const dataMeasure = [
				{{ data.base_rate }},
				{{ data.statistical_parity_difference }},
				{{ data.consistency }}
			];
			const dataMeasure_xAxis = ["Base rate", "Statistical parity difference", "Consistency"];

			const performanceMeasure = [
				{{ performance.true_negative_rate }},
				{{ performance.false_positive_rate }},
				{{ performance.false_negative_rate }},
				{{ performance.recall }},
				{{ performance.precision }},
				{{ performance.negative_predictive_value }},
				{{ performance.false_discovery_rate }},
				{{ performance.false_omission_rate }},
				{{ performance.accuracy }}
			];
			const performanceMeasure_xAxis = ["TNR", "FPR", "FNR", "Recall", "Precision", "NPV", "FDR", "FOR", "ACC"];

			const clsMeasure = [
				{{ classify.average_odds_difference }},
				{{ classify.selection_rate }},
				{{ classify.disparate_impact }},
				{{ classify.statistical_parity_difference }},
				{{ classify.theil_index }},
				{{ classify.equal_opportunity_difference }}
			];
			const clsMeasure_xAxis = ["Average odds difference", "Selection rate", "Disparate impact", "Statistical parity difference", "Theil index", "Equal opportunity difference"];


			const dataBar = new BarChart("data_chart_bar");
			dataBar.setAxis(dataMeasure_xAxis);
			dataBar.push(dataMeasure, {name: "Data Measure"});
			dataBar.show();

			const performanceBar = new BarChart("performance_chart_bar");
			performanceBar.setAxis(performanceMeasure_xAxis);
			performanceBar.push(performanceMeasure, {name: "Performance"});
			performanceBar.show();

			const clsBar = new BarChart("cls_chart_bar");
			clsBar.setAxis(clsMeasure_xAxis);
			clsBar.push(clsMeasure, {name: "Bias Measure"});
			clsBar.show();
		</script>
	</body>
</html>